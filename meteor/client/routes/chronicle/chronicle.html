<!-- Copyright (c) 2014 DemonSquid, Inc. All rights reserved. -->

<template name="chronicle">
    <div class="container">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h1>
                    <span>{{chronicle.name}}</span>
                    <button type="button" id="edit-button" class="btn btn-default float-right">edit</button>
                </h1>
            </div>
            <!--<div class="panel-body">-->
                <!--TODO-->
            <!--</div>-->
        </div>
        {{> chronicleElementList}}
    </div>
</template>

<template name="chronicleElementList">
    <div id="chronicle-element-list">
        {{#each chronicleElements}}
        <div class="panel panel-default">
            {{#if isText}}
                {{> chronicleText}}
            {{/if}}
            {{#if isMonster}}
                {{> chronicleMonster}}
            {{/if}}
            {{#if isEncounter}}
                {{> chronicleEncounter}}
            {{/if}}
        </div>
        {{/each}}
    </div>
</template>

<template name="chronicleText">
    <div class="panel-heading">
        <h2>{{content.title}}</h2>
    </div>
    <div class="panel-body">
        <p>{{content.body}}</p>
    </div>
</template>

<template name="chronicleMonster">
    <div class="panel-heading">
        <h2>{{content.Name}}</h2>
    </div>
    <div class="panel-body">
        {{#with content}}
            {{> monsterStatBlock}}
        {{/with}}
    </div>
</template>

<template name="chronicleEncounter">
    <div class="panel-heading">
        <h2>{{content.name}}</h2>
    </div>
    <div class="panel-body">
        <h3>Monsters</h3>
        <ul>
            {{#each elements}}
                <li>{{count}} {{monster.Name}}</li>
            {{/each}}
        </ul>
        <h3>NPCs</h3>
        <h3>Items</h3>
    </div>
</template>